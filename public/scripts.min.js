!function(){var a=document.getElementById("subscribe-form");function o(e,t){var r=a.querySelector(".subscribe-form__error");if(r.hasAttribute("data-label")||r.setAttribute("data-label",r.textContent),e)return r.classList.remove("subscribe-form__error--show");void 0===t&&(t=r.getAttribute("data-label")),r.textContent=t,r.classList.add("subscribe-form__error--show")}function i(e){var t=a.querySelector(".subscribe-form__submit"),r=t.getAttribute("data-toggle");return t.setAttribute("data-toggle",t.textContent),t.textContent=r,e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled","disabled")}a.addEventListener("submit",function(e){e.preventDefault(),o(!0);for(var t,r=a.querySelectorAll(".subscribe-form__fields__input"),s=new FormData,n=0;t=r[n];n++)s.append(t.name,t.value);i(!0);var u=new XMLHttpRequest;u.open("POST","/skyeng-subscribe/send-form.php",!0),u.onreadystatechange=function(){4===u.readyState&&i(!1)},u.onload=function(){if(200!==u.status)return o(!1);var e=JSON.parse(u.responseText);if(e.success=e.success||!1,!e.success)return o(!1,e.message);a.querySelector(".subscribe-form__content").classList.add("subscribe-form__content--result")},u.onerror=function(){return o(!1)},u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.send(s)})}();
document.getElementById("toggle").addEventListener("click",function(e){if(e.preventDefault(),"object"==typeof subscribeForm){var r=document.getElementById("subscribe-form");for(var s in subscribeForm){var i="subscribe-form--"+s;if(r.classList.contains(i))r.classList.remove(i);else{for(var t in subscribeForm[s]){var c=".subscribe-form__"+t;r.querySelector(c).innerHTML=subscribeForm[s][t]}r.classList.add(i)}}}});