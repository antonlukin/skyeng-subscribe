!function(){var o=document.getElementById("subscribe-form");function u(e,t){var r=o.querySelector(".subscribe-form__error");if(r.hasAttribute("data-label")||r.setAttribute("data-label",r.textContent),e)return r.classList.remove("subscribe-form__error--show");void 0===t&&(t=r.getAttribute("data-label")),r.textContent=t,r.classList.add("subscribe-form__error--show")}function i(e){var t=o.querySelector(".subscribe-form__submit"),r=t.getAttribute("data-toggle");return t.setAttribute("data-toggle",t.textContent),t.textContent=r,e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled","disabled")}o.addEventListener("submit",function(e){e.preventDefault(),u(!0);for(var t,r=o.querySelectorAll(".subscribe-form__fields__input"),s=new FormData,n=0;t=r[n];n++)s.append(t.name,t.value);i(!0);var a=new XMLHttpRequest;a.open("POST","/send-form.php",!0),a.onreadystatechange=function(){4===a.readyState&&i(!1)},a.onload=function(){if(200!==a.status)return u(!1);var e=JSON.parse(a.responseText);if(e.success=e.success||!1,!e.success)return u(!1,e.message);o.querySelector(".subscribe-form__content").classList.add("subscribe-form__content--result")},a.onerror=function(){return u(!1)},a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(s)})}();
document.getElementById("toggle").addEventListener("click",function(e){if(e.preventDefault(),"object"==typeof subscribeForm){var r=document.getElementById("subscribe-form");for(var s in subscribeForm){var i="subscribe-form--"+s;if(r.classList.contains(i))r.classList.remove(i);else{for(var t in subscribeForm[s]){var c=".subscribe-form__"+t;r.querySelector(c).innerHTML=subscribeForm[s][t]}r.classList.add(i)}}}});